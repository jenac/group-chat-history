TIME | USER | MESSAGE
--- | --- | ---
14:18:15 | 有美一人🌺🌺 | 比iPhone x好看太多了
14:18:16 | 有美一人🌺🌺 | <?xml version="1.0"?><br/><msg><br/>	<appmsg appid="wx48158cd29acc6c5c" sdkver="0"><br/>		<title>这不是科幻小说 MWC2018: Vivo发布APEX屏下指纹手机</title><br/>		<des>删除 Link 注释<br/><br/><br/><br/><br/> <br/>MWC2018开幕首日，众厂商就已经大招频发，最让小编惊艳的手机并不是三星、索尼、LG、华为等老牌厂商，而是一股来自东方的神秘力量、国际大厂之一的vivo。CES2018上，vivo就展示了基于x20的首款屏幕指纹量产机，而在仅仅相隔1个多月的MWC2018上，vivo APEX更是将手机届两大难题一并解决。<br/> <br/><br/><br/><br/>删除 Link 注...</des><br/>		<action /><br/>		<type>5</type><br/>		<showtype>0</showtype><br/>		<soundtype>0</soundtype><br/>		<mediatagname /><br/>		<messageext /><br/>		<messageaction /><br/>		<content /><br/>		<contentattr>0</contentattr><br/>		<url>http://m.dealmoon.com/cn/it-is-not-sci-fi-MWC2018-Vivo-APEX/817027.html?utm_campaign=iphone_wechat_share&amp;amp;utm_medium=social&amp;amp;s=iphone_wechat_share&amp;amp;utm_content=deal_817027_E2CD0E6D-01C3-4800-90DB-BD5E28502268_132381&amp;amp;utm_source=wechat</url><br/>		<lowurl /><br/>		<dataurl /><br/>		<lowdataurl /><br/>		<appattach><br/>			<totallen>0</totallen><br/>			<attachid /><br/>			<emoticonmd5 /><br/>			<fileext /><br/>			<cdnthumburl>3050020100044930470201000203018baf020310d95f020421c1cdcb02045a95bd070423323436373434393639344063686174726f6f6d31363332335f313531393736323639340204010c00030201000400</cdnthumburl><br/>			<cdnthumbmd5>5d0c64ae469bc6406536c71cab51ce5b</cdnthumbmd5><br/>			<cdnthumblength>4790</cdnthumblength><br/>			<cdnthumbwidth>100</cdnthumbwidth><br/>			<cdnthumbheight>100</cdnthumbheight><br/>			<cdnthumbaeskey>f7de03e1b5494797bcb473461a54d9fc</cdnthumbaeskey><br/>			<aeskey>f7de03e1b5494797bcb473461a54d9fc</aeskey><br/>			<encryver>0</encryver><br/>		</appattach><br/>		<extinfo /><br/>		<sourceusername /><br/>		<sourcedisplayname /><br/>		<thumburl /><br/>		<md5 /><br/>		<statextstr>GhQKEnd4NDgxNThjZDI5YWNjNmM1Yw==</statextstr><br/>	</appmsg><br/>	<fromusername></fromusername><br/>	<scene>0</scene><br/>	<appinfo><br/>		<version>11</version><br/>		<appname>北美省钱快报</appname><br/>	</appinfo><br/>	<commenturl></commenturl><br/></msg><br/><br/>
19:49:02 | 有美一人🌺🌺 | @13036d198f8eb9305084ad24d1dd385f79f5f2e1fd58754f10969347a9112bf6b01f559e1e47547c1eed68e367336c8b257482f305bdf58ffa3250bdd6a26fa95feb611ef08a1acdcf901b6d81845296e9eea27c858de5b78f82da4b223114c6b6f17641766c5edc6a5b5278946a8f348bf13add738a3793b13fb442d496025938396f86b93b66c08291fbed95049a2bf42066ac9cb359919162f4423426cd96dc220a04f6180f0e8d33a30c15f6f9563e0d26dd9f37b4cd38a3b4da8fa92bd341caacea6752e97b5578061ba342fe00965575cf473bc3cd742230b19ff324ca42280f89f02bbcec65b2d784cc96aafa9138a32564cf6f7d8d797f51fcc457274454716dbd9332751199ab06595721de1171d9ac920bc7975f8c316f81f25a207cb117f85d0b43ca96a4ea03bc23c862449bb2fde1ef668b45406f7287ce5023b325328bd516b3ce8e103fcb09b7d4b5e0b44dd1502c7e278fe9cfef12ea44808f2fdf46a37bea543115fed006309abc039a785c4639239c69c58b5feee52733ed5f3d3e65df4bc2fce23083d234265ee9a6f5262c67d4ff5b3e21554df0d5f81a400f0ebd7ee049f8ce4d8f8f3f1d7a52feb2d2e110c0582e230cb1253c96704e3b6f5114abaabba2f8ca7bf9ca8f24db74d41c68fd2f0005d37f2ef2c9ac3176c3a97820f34651d4a00470ff093ed93becf2f36ff600bba24fe95ab90d5165b1f46f12105900e7787abcbb6b1ffccbf2b7f4fe655e8c068373f2b55cbfefd7652cac259197ecc135c4849d827abf57635385e357a270b1129f95e16b60cb2128c54329bb5884ae303ae8c15dbe68ad0c54e6d96a408d1873a81a4d392ca3c4452e8fe4ac86ddf4309894f41a43901d95cc777c948aaa2479a3dab47b4a41c1905fbff03534f0f11bfe7fe3bf452eb03ad9f00f050a4705c23db3e57f8fbe69
19:50:23 | ZhaozongFan | 好像很多Python的书都这样
19:50:52 | 有美一人🌺🌺 | 干嘛呢
19:51:04 | 有美一人🌺🌺 | <sysmsg type="revokemsg"><revokemsg><session>2467449694@chatroom</session><oldmsgid>1455547910</oldmsgid><msgid>5283241559685123526</msgid><replacemsg><![CDATA["有美一人🌺🌺" 撤回了一条消息]]></replacemsg></revokemsg></sysmsg>
19:51:41 | 有美一人🌺🌺 | 动物系列
19:59:36 | 王军 | 现在的前台angular，react，vue，后台是rest api，state mamanagment 怎么做？
19:59:55 | 王军 | 大概看了看说在client manage state？
20:12:00 | 有美一人🌺🌺 | rest 没有状态啊
20:15:04 | 王曉川 | 因为没有 session 了，有时用 cookie, 有时用 local storage来 carry state
20:22:29 | L Chen | https://medium.com/@vyaron/who-needs-state-management-anyways-55e6d1c74239
20:30:46 | 王军 | The Angular Way<br/>Angular is a sophisticated framework from the house of google that relies on two corner stones from the house of Microsoft: Typescript and RxJS, it is useful for building enterprise level applications, with many forms and many developers.<br/>As RxJS Observables are already used inside Angular, the reactive nature of state updates is commonly achieved by using something like ngrx/store. those will encourage us to code pure reducers to mutate the state.<br/>Making our state type-safe also comes with a price of its on, so we need a solution for describing those types without repeating ourselves, something like this: https://gist.github.com/vyaron/c8d71d268aa9d7e30ff3d1c15d236b84<br/>As objects fly around the system by reference, and due to the shallow and weak implementation of JS consts, it is necessary to prevent direct mutations, so we need to plug in an immutability solution either by creating clones manually or by using something like immutable.js.<br/>Combined with the smart-dumb components paradigm and the OnPush change detection strategy, this will eventually lead us to a full solution for detecting changes and efficiently re-rendering the components.<br/>But this does not end here as we also need a pattern for achieving un-pure operations like server communications, so plugging in another aspect or a library like ngrx/effects to manage these operations.<br/>Works? Yes. Crazily complicated? Yes.
20:30:43 | 王军 | 看了一下，还是半懂不懂
20:31:02 | 王军 | <sysmsg type="revokemsg"><revokemsg><session>2467449694@chatroom</session><oldmsgid>1455547935</oldmsgid><msgid>6422774177355932300</msgid><replacemsg><![CDATA["王军" 撤回了一条消息]]></replacemsg></revokemsg></sysmsg>
20:31:15 | 王军 | 该类型暂不支持，请在手机上查看
20:31:27 | 王军 | 看这一段
20:32:05 | 有美一人🌺🌺 |  tweetdeck 原来这么好玩， 信息流尽在掌握中
20:32:08 | 有美一人🌺🌺 | @13036d198f8eb9305084ad24d1dd385f79f5f2e1fd58754f10969347a9112bf6598ec8ab3bd1bde87253b24a446dc28c5194d70be713ef0221b07802f7deb304d8dd151ccaa426c8f4511b19a9d7fc0788eeff68c0bb9d27b9f551844d5a79eab9dd580b0f7187175bcfecfe3cc81318290a72d6dfd9c9ae087b57f293255d0475433917e0e502e49a60da0da58944e7a519f2adb40ed2383c8fa8d1df1e35572ba7cd3644c0f9c3b1a2996b8659c4fa836d0557ffb95ccf383db1f99e2d6da2f08bc8b2fad56b533f604a084506e16ef9c72100a84e70d3f61618ba74134e75807543285981f9e08a9ac2fd2975e552097f4e8c8fd9198e39f8f9a5fccbbd91f98b69e344ac9c0705e7b9c17e7ed3dc4eb588a949f55d547c7e5c6eafec99deee46f12f844f19a7e13f62ae3d80dab184288c21b0b5a850f1763813b4fd9ce21c3959c8280f3978e5e686530dd54e1a05b296117c6704d0f348011467082d0dd223036872bbfe05ecb5ea3eceac2d64bdb3700d9514179f8bdebec1dff378ed98c72098cfc4c4cae1c6ade25b8d92d727023a56af638c72098c913a36d02ae5adccf095c581de9ad372084094cb5535db2b3fa54bc145e152d3756f94a7e6dc0bc516456fea4405387057b5ba2892407bd7a780b6b65865061f1e0e950c44bc95fb5cc167e0a008941c790b8082cb9498ed6e67927a491d0d0b7e48209f7f18c8db60653c26a6d2b8bccd1ce466d29920b9b6493009c70b2b5a8629afed354c091cc095f0efa716728066ea771551068b4ca23397131d706db115c1da1fcec23b2538778f2bd0bab336278a0ba693cc96705efed312f7ac87031fa81ad29873fb64107028aa1466f61fb2bc5798d13280f0d241d15eacdbb2cb739f291214f922fd989047eb0779e0bb53533907d93e584cf4658a45d2ee6a14ba4fbc419faf3171053b1e589e36b11ce3106b6ff9995019a9bc6cb8ebf924656c85b3f3590cf6f6bea638d71d7ec8692e7dad64a3c93074ccf41bdd8059d2c50d61c6787be284cf0b337c5113ed667231c1e9933c1d390f23b67dadb943548ba31475abc1a2046c2d6a7967daf2286dfb9da568dda4363fe0205daf78eaaf165fe83594f09afee4f1d41a9e35b2561b3fe1f0e63b0687fa5c8a1ddfcbd0dacd923ce8ac01dfb774a834a4dafd8e778e829e5972653711715eec6fe124f4b789c2ff6abb7ac26f460bea26e4a17fc3b15a7207a767d0
20:33:30 | 王军 | @王曉川 session如果想要也可以，只是可能大家选择不用
20:35:59 | 有美一人🌺🌺 | session在server端就不好控制了吧， 在一个页面做了操作，另一个页面拿了同一个session, 还得在两个页面间同步
20:37:05 | 王军 | @有美一人🌺🌺 session就不讨论了，20年前的事情
20:37:27 | 王军 | 当时面试必考的，现在估计也有人不清楚
20:38:13 | 王军 | 我就想知道现在怎么manage state，没错http是stateless protocol，但是应用中有时需要state
20:38:21 | 王军 | 比如你的order status
20:38:39 | 王军 | 你的还没有处理的订单信息等等
20:39:15 | 有美一人🌺🌺 | order status 你可以放在数据库上啊
20:39:55 | 有美一人🌺🌺 | amazon 的shopping cart在手机端和浏览器是登录后就同步的
20:40:45 | 有美一人🌺🌺 | 登录前应该是存在本地的
20:41:11 | 王军 | amazon 的cart是在database里面
20:41:44 | 王军 | 但是都保存在database里面performance不好？
20:41:46 | 有美一人🌺🌺 | 你还可以放在ｍｑ里
20:42:10 | 王曉川 | @王军 用 redis ?
20:42:12 | 王军 | 所以上面那段angular的方案我没看懂
20:42:19 | 王军 | 该类型暂不支持，请在手机上查看
20:42:24 | 有美一人🌺🌺 | 对，redis
20:42:44 | 王军 | @王曉川 用cache是可以的
20:43:23 | 王军 | 但是我不知道有没有现在比较公认的方案
20:43:49 | 王军 | 比如login以后20分钟timeout，这个jwt可以做对吧？
20:44:51 | L Chen | 应该可以做。
20:46:16 | 王军 | 那其实别的东西也没有啥了，比如不同的angular page之间share data用啥？
20:46:51 | L Chen | 我理解那段的意思就是angular里面你要用rxjs和ngrx/store来自己管理state.
20:47:06 | L Chen | 所以作者套用了redux给你写了个例子。
20:47:28 | 王军 | 最后说了挺复杂
20:47:36 | 王军 | 那咋办，干脆不用？
20:48:01 | L Chen | 我觉得没那么复杂。干嘛啥都要套redux?
20:48:02 | 王军 | jwt可以来做auth/authorization，也可以timeout token
20:48:16 | L Chen | 也许我的程序规模没那么大。
20:48:17 | L Chen | 呵呵。
20:48:41 | 王军 | 那你的code在angular之间share data用什么？
20:48:41 | L Chen | jwt有个expire time.
20:48:58 | 王军 | 对jwt这事我知道
20:49:05 | L Chen | 放storage里面是最直接的办法。
20:49:21 | 王军 | 嗯，那就是说放client了
20:49:30 | L Chen | 对的。
20:49:35 | 王军 | 用户换台电脑就没了
20:49:48 | 王军 | 如果还想有就存database
20:49:52 | 王军 | 跟amazon一样
20:49:55 | 有美一人🌺🌺 | 从ｓｅｒｖｅｒ拿啊
20:49:58 | L Chen | 对。
20:50:03 | 王军 | cookie啥的还都可以用？
20:50:15 | L Chen | rdbms, nosql都可以。
20:50:27 | L Chen | redis, riak
20:50:45 | 王军 | 放database，或者redis其实挺好
20:50:54 | L Chen | 随便整，大家倾向用nosql, 速度快些。
20:51:04 | L Chen | 反正不需要transaction.
20:51:15 | 王军 | 我今天看了看wikipeida的 API
20:51:18 | L Chen | 弄坏了，给个error, 重来。
20:51:29 | 王军 | 昨天问的关于typeahead的问题
20:51:57 | 王军 | 不管前端用ng-bootstrap还是用twitter的typeahead.js
20:52:07 | 王军 | 后台还是要个suggester啊
20:52:27 | 王军 | 我本来要问啥suggester好用
20:52:40 | 王军 | 比如你有一个search box
20:52:46 | 王军 | 搜索产品名字
20:53:14 | 王军 | 后台有个searchproduct API
20:53:19 | 王军 | return json
20:53:46 | 王军 | 然后你要搜名字开头或者名字里包含Xbox的产品
20:54:15 | 王军 | 我理解API需要实现suggester的功能
20:54:38 | 王军 | 用elasticsearch我会做
20:55:00 | 王军 | 但是如果你们后台用的rdbms或者mongodb咋做？
20:55:59 | 有美一人🌺🌺 | 返回个ｊｓｏｎ啊
20:58:02 | 王军 | 我知道需要返回json，你API的suggester怎么写
20:58:28 | 王军 | 不会用SQL写啊，比如模糊查询
20:58:47 | 王军 | 你搜color，那么colour也会返回的
20:59:17 | L Chen | 没写过。
20:59:26 | 有美一人🌺🌺 | 为什么 会返回ｃｏｌｏｕｒ？
20:59:37 | 王军 | 同义词
20:59:51 | 王军 | Google你搜的时候拼写都对吗？
21:00:00 | 王军 | 我天天都是typo的搜索
21:00:11 | 王军 | 为啥Google那么聪明？
21:00:18 | L Chen | 估计应该是跟elastic那个差不多，你用个什么算法，把相关性评分超过一定值的都返回来。
21:00:20 | 有美一人🌺🌺 | google那个是有算法的
21:00:23 | 王军 | 能猜到我想要搜啥
21:00:25 | 有美一人🌺🌺 | ｆｕｚｚｙ　
21:00:26 | 王军 | https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters.html
21:00:34 | 王军 | 这个就是elastic的
21:00:45 | 王军 | Google的只会更聪明点
21:01:06 | L Chen | google有大量数据。
21:01:17 | 有美一人🌺🌺 | fuzzy 算法会返回一个值 ，按值大小返回就好了
21:01:31 | 王军 | 就是score
21:01:33 | 有美一人🌺🌺 | ｔｙｐｏ的话是可以按概率算的
21:01:43 | 王军 | score高的在最前面
21:01:50 | 王军 | 和Google算法一样
21:01:51 | 有美一人🌺🌺 | 是的
21:01:57 | 王军 | 好像叫BM25
21:02:09 | 有美一人🌺🌺 | 好几种
21:02:16 | 王军 | https://en.m.wikipedia.org/wiki/Okapi_BM25
21:02:24 | 王军 | 这个是elastic用的
21:02:44 | 王军 | Facebook那个在电影里面rate girl的是另一种
21:03:56 | 王军 | https://youtu.be/bLsM1z8lX_A
21:04:08 | 王军 | 不该讨论这个
21:05:17 | 王军 | 好换个话题
21:05:33 | 王军 | 我自己回头去问suggester
21:05:51 | 王军 | 是别人告诉我elastic的很烂
21:05:59 | 王军 | 所以我不想用
21:10:09 | 王军 | 如果你们需要实现typeahead，我从昨天试验了这两种还不错
21:10:11 | 王军 | https://twitter.github.io/typeahead.js/
21:10:44 | 王军 | https://ng-bootstrap.github.io/#/components/typeahead/examples
21:12:36 | L Chen | 好的。回头看看。
21:12:58 | 王军 | 这个拿过来用就好了
21:13:18 | 王军 | 比如美国50个州的dropdown
21:13:40 | 王军 | 比较高级的是和后台API链接的
21:14:24 | 王军 | 比如这个https://m.mediawiki.org/wiki/API:Opensearch
21:40:53 | EVZ | 没用过这个 typehead 以前做的就是在建一个 list 用 ng directive populate 这些 key and values 
21:42:14 | 王军 | 那个可能纯在client，里面差不多就是regex match就好了吧？
21:44:36 | EVZ | 哪有这么复杂啊 state 怎么会用到 regex 
21:46:03 | EVZ | Ng-repeat and ng-value
21:49:42 | 王军 | 如果固定的list很简单
21:50:00 | 王军 | 如果call API要看API怎么return data
21:51:13 | EVZ | 如果是大 project 真不能太理想话 pass value, 不光 cookie session jsp request clientcontext 可能都需要 
21:52:55 | EVZ | 就 50 个州 放一个 json object 不行吗？还是有什么复杂的需求 必须那么做
22:20:21 | 王军 | 不是，我真的需要的typeahead需要query一个后台的table大概有10m records
22:20:55 | 王军 | query还要join至少其他5-6个table
22:26:46 | 王曉川 | 这个要达到 type suggest，挑战大啊！
22:29:01 | 有美一人🌺🌺 | 我觉的这个得先自己命中下可能的组合，然后放到ｃａｃｈｅ里吧
22:31:39 | 有美一人🌺🌺 | 只取前１００条，多了也显示不下
22:35:56 | 王军 | @王曉川 如果在elasticsearch，一点挑战没有
22:36:13 | 王军 | @有美一人🌺🌺 一般也就显示前10个
22:37:29 | 王军 | @有美一人🌺🌺 所谓的suggester，就是根据你的输入然后用ranking algorithm来score，加入synonym，还有其他bump up score等因素，返回推荐词
22:37:41 | 王军 | Google search就是这样做
22:38:14 | 王军 | 你的最近的搜索记录是他们最优先查询的dataset
22:38:33 | 王军 | 这是我的理解，我无从知道Google怎么做的
22:39:09 | 有美一人🌺🌺 | 那还得看每个字母输入就提示，还是输入完再提示
22:39:52 | 王军 | 每个字母都提示，难道你的Google search不是这样吗？
22:40:07 | 王军 | 我通常限制3个字母以后再提示
22:40:14 | 王军 | 这个可以自己设定
22:41:03 | 王军 | 我刚确认了Google Bing，似乎都是这样提示的
22:41:07 | 有美一人🌺🌺 | 那你的ｓｅｒｖｅｒ响应时间得做到３００毫秒以内啊
22:41:46 | 王军 | 你如果用过search engine就知道 300毫秒挺慢的了
22:41:54 | 王军 | 我的很少超过50ms
22:42:25 | 有美一人🌺🌺 | 那用户体验还行
22:42:36 | 王军 | 第一次prime要慢点
22:42:56 | 王军 | search engine自己caching很重要
22:43:04 | 王军 | 不需要再加redis
22:43:05 | 有美一人🌺🌺 | 所以要提前预热啊
22:43:17 | 王军 | 都要预热
22:43:29 | 王军 | 你们家除雪机都要预热呢
22:43:39 | 王军 | search engine也一样需要
22:44:46 | 王军 | 你去试试wikipeida公开的API，飞快
22:44:57 | 有美一人🌺🌺 | 那你不用elastic 怎么实现的
22:44:59 | 王军 | 也可以试试stackoverflow的
22:45:28 | 王军 | 俺不晓得，我现在公司在elastic之前用SQL like
22:45:38 | 王军 | 我看见差点下巴掉下来
22:46:33 | 王军 | 可以把search index自己的data structure 进入redis
22:47:01 | 王军 | 但是为了search肯定我会不犹豫地上search engine
22:47:23 | 王军 | redis有无数autocomplete的例子
22:47:29 | 王军 | redis更快
22:47:41 | 王军 | 轻松到达100qps
22:48:55 | 有美一人🌺🌺 | 要不建26个ｖｉｅｗ 。。。 
22:49:30 | 王军 | 你要把所以字母组合index
22:49:39 | 王军 | 为啥自己要做
22:49:44 | 王军 | 有现成的
22:50:13 | 有美一人🌺🌺 | 省钱，省人工
22:50:49 | 有美一人🌺🌺 | 得看数据量吧，三个字母的话，其实ａａａ，　ｂｂｂ这样的肯定不用建了
22:50:55 | 王军 | 我之前把healthcare的diagnosis code ICD9，现在是ICD10 放到redis
22:51:14 | 王军 | 后来没用到production
22:51:22 | 王军 | 发现elastic更省事
22:51:28 | 王军 | 啥都不用写
22:52:03 | 有美一人🌺🌺 | 异构数据库的话只能 上ｒｅｄｉｓ了
22:52:22 | 王军 | 不一定
22:52:35 | 王军 | 我相信Google 百度都是自己写的
22:52:35 | 有美一人🌺🌺 | 那你怎么排序
22:52:46 | 王军 | 所以他们找人要考算法
22:53:03 | 有美一人🌺🌺 | 他们估计ｍａｐ　ｒｅｄｕｃｅ了
22:53:08 | 王军 | 我不晓得，你要问问他们内部的人
22:53:13 | 王军 | 那不可能
22:53:29 | 王军 | M/R只能disk完成
22:53:42 | 有美一人🌺🌺 | ｓｐａｒｋ是内存的
22:53:47 | 王军 | 说外行话回头群里大数据专家要笑了
22:54:29 | 王军 | spark好像不是做这个的，杀鸡用牛刀
22:55:13 | 有美一人🌺🌺 | 可以ｓｐａｒｋ算完放ｒｅｄｉｓ啊
22:55:23 | 有美一人🌺🌺 | 又没要求实时更新
22:55:25 | 王军 | 这个不用算啊
22:55:34 | 王军 | 就是inverted index
22:55:41 | 王军 | 根本不用算
22:55:52 | 有美一人🌺🌺 | 异构 多数据中心怎么ｉｎｄｅｘ
22:56:27 | 王军 | 啥叫异构？sorry
22:56:39 | 王军 | 名词对不上号
22:56:52 | 有美一人🌺🌺 | mysql 加ｏｒａｃｌｅ这样的
22:57:03 | 王军 | rdbms
22:57:05 | 王军 | 对
22:57:19 | 王军 | 是这样，最早还没有elastic的年代
22:57:27 | 王军 | 有个东西叫lucene
22:57:44 | 王军 | 然后人们觉得不好用，做了玩意叫solr
22:57:52 | 王军 | 可以做这个
22:58:41 | 王军 | 每天把需要搜索的内容，从rdbms里面select出来，然后index进去lucene，当然通过solr
22:58:48 | 王军 | 然后就可以搜了
22:58:59 | 王军 | amazon等都是大同小异
22:59:14 | 王军 | 现在牛多了，index delay很小
22:59:18 | 有美一人🌺🌺 | 以前做的项目里，前人写线程多个数据库去取，然后内存排序显示出来，卡的不行，基本不用了
22:59:23 | 王军 | 一般一秒之内
22:59:40 | 王军 | 算是near real time
22:59:55 | 有美一人🌺🌺 | 那是日更新
23:00:17 | 王军 | 之前很多东西可以忍受delay一天
23:00:33 | 王军 | 可是你的价格信息可以吗？没有可能
23:00:42 | 王军 | 必须实时更新
23:00:48 | 王军 | 所以需要cluster
23:01:08 | 王军 | 当然re-index还是挺慢的
23:01:29 | 王军 | 我的cluster不太大，没受过那种煎熬
23:03:56 | 有美一人🌺🌺 | 机票网站也没做到实时的，订完票提交的时候说价格变了
23:04:59 | 王军 | airline系统很复杂，没做过，不敢妄加评论
23:05:22 | 王军 | 我理解他们需要transaction所以nosql就出局了
23:06:22 | 王军 | 你搜一搜问题不大，买的时候transaction database更新了，那用户也要接受
23:06:26 | 王军 | 挺合情合理
23:06:44 | 有美一人🌺🌺 | 超订机票的情况不也有么
23:07:20 | 王军 | 当然，跟retail inventory不准确一个道理
23:15:12 | 有美一人🌺🌺 | 不知道有没有什么书讲流行Ｗｅｂ架构的
